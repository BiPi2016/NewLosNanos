<%- include('../includes/start') %>
<link rel="stylesheet" href="/css/admin.css">
<link rel="stylesheet" href="/css/forms.css">
</head>
<body>

    <%- include('./adminMenu') %>

    <form action="" method="post" class="newProductForm">
        <section class="fieldContainer">
            <label for="brand" class="formLabel">Brand</label>
            <input type="text" name="brand" id="brand" class="formInput" required value="<%= locals.product ? product.brand : '' %>">
        </section>
        <section class="fieldContainer">
            <label for="name" class="formLabel">Name</label>
            <input type="text" name="name" id="name" class="formInput" required value="<%= locals.product ? product.name : '' %>">
        </section>
        <section class="fieldContainer">
            <label for="price" class="formLabel">Price</label>
            <input type="number" name="price" id="price" class="formInput" required value="<%= locals.product ? product.price : '' %>">
        </section>
        <section class="fieldContainer centerFlexSpaceBetween" id="prodClassification">
            <%- include('./adminElements/selectAudience') %>
            <%- include('./adminElements/selectCategory') %>
            <%- include('./adminElements/selectType') %>
        </section>

        <section class="fieldContainer sizeSelector" id="prodSizesConainer">
            <section class="centerFlexSpaceBetween">
                <p class="formLabel">Sizes</p>
                <p class="formLabel">Number of products to be added in this size</p> 
            </section>

            <section id="sizes">
            </section>
        </section>

        <section class="fieldContainer imageSelector" >
            <label for="imageUrl" class="formLabel">Image names <span class="note">(a coma separated list of image-names)</span></label>
            <input type="text" name="imageUrls" id="imageUrls" class="formInput" required >
        </section>
        
        <div class="centerFlex">
                <button type="submit" class="formBtn formInput">Submit</button>
                <button type="reset" class="formBtn formInput">Reset</button>
        </div>
        
    </form>
    
    <% if(locals.errors) {%>
        <h2 class="title">Following errors occured!!</h2>
        <ol class="itemList">
            <%errors.forEach( error => {%>
                <li class="itemList__item">
                    <span class="sectionValue"><%=error.msg ? error.msg : error%></span>
                </li>
            <%})%>
        </ol>        
    <%}%>

    <script src="/javascripts/addProduct.js"></script>
</body>
</html>